<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Scheduler Engine: Scene validation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Scheduler Engine
   </div>
   <div id="projectbrief">Route optimization engine written in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Scene validation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>There are different cases when we want to know if there are any constraints violations for the scene objects. There are also many constraints each of them has it's own definition and checking rules.</p>
<p>To not implement the giant god class having all violation rules in one place and to make it possible for the user to override the constraints satisfaction checks the algorithms validating the scene objects are implemented separately from the scene manager.</p>
<p>To prevent the performance issues the validation algorithms have to be interruptible, e.g. when we want to know if there are any violations we can return on first found violaion. From the other side, not all violations have to be checked in all contexts, e.g. we may have to check only the soft violations supported by the cost function to calculate the cost.</p>
<p>To provide the variability, the validation process is implemented using the producer-consumer pattern. Validation algorithm is considered as the violations producer and reports every violation immediately, when it's found, to the violations processing code.</p>
<p>The code processing the violations should be implemented by deriving from the ViolationsConsumer class and overriding it's violation processing methods. It can manage the validation process in 2 ways:</p>
<ol type="1">
<li>Consumer can tell if it wants to check the particular violations so that the algorithms that do not report these violations can be skipped. This is done implementing the supportsViolationType.</li>
<li>Consumer can tell if it has all the information it needs and the validation process should be interrupted. This is done returning the particular continuation policy (CONTIMUE or INTERRUPT) from the violation processing method</li>
</ol>
<p>The validation algorithm implementation principles are following:</p>
<ul>
<li>Before performing any actions check if the consumer supports the violation which the algorithm will report. If the consumer doesn't support the violation, just return</li>
<li>After reporting the violation to the consumer, check the returned value of the consumeXXX method. If it's INTERRUPT then just return</li>
</ul>
<p>To simplify the API, the code of TSP and VRP solvers doesn't know about how the violations are checked and reported. Instead the particular set of algorithms is gathered in a concept called "schedule validation model".</p>
<p>It contains 3 algorithms based on the level of validaion:</p>
<ol type="1">
<li>Algorithm validating the single stop</li>
<li>Algorithm validating the whole run</li>
<li>Algorithm validating the whole schedule</li>
</ol>
<p>It's obvious that there may be different constraints for each stop/run/schedule and a dedicated algorithm can be defined for each of them. In this cases the chain validation algorithm has to be used gathering all the algorithms for each validation level.</p>
<p>To start the validation process there are 2 different ways:</p>
<ol type="1">
<li>Call the isValid() method of the stop/run/schedule/scene. In this case the boolean value is returned to indicate if there are any hard constraints violations</li>
<li>Call the validate() method of the stop/run/schedule/scene passing the specified violations consumer. The violations will be reported to this consumer.</li>
</ol>
<p>The validation is performed in a cascade way, i.e. the validation algorithm is implicitly called for all stops of the run when the run itself is validated. This implies that if run.isValid() is true then stop.isValid() is also true for all stops of this run. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 19 2018 16:04:21 for Scheduler Engine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
