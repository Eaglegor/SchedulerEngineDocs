<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Scheduler Engine: Scheduler::MemoryManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Scheduler Engine
   </div>
   <div id="projectbrief">Route optimization engine written in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_scheduler.html">Scheduler</a></li><li class="navelem"><a class="el" href="class_scheduler_1_1_memory_manager.html">MemoryManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_scheduler_1_1_memory_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Scheduler::MemoryManager Class Reference<div class="ingroups"><a class="el" href="group__memory__manager.html">Memory manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This class manages memory allocations inside the engine.  
 <a href="class_scheduler_1_1_memory_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_memory_manager_8h_source.html">Engine/MemoryManager/MemoryManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab6aaa917526728671d2522a1716ec646"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_scheduler_1_1_malloc_memory_store.html">MallocMemoryStore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scheduler_1_1_memory_manager.html#ab6aaa917526728671d2522a1716ec646">createMallocMemoryStore</a> ()</td></tr>
<tr class="memdesc:ab6aaa917526728671d2522a1716ec646"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates malloc memory store.  <a href="#ab6aaa917526728671d2522a1716ec646">More...</a><br/></td></tr>
<tr class="separator:ab6aaa917526728671d2522a1716ec646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c3cb63764dc1307eadaed43360fcdf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_scheduler_1_1_pool_memory_store.html">PoolMemoryStore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scheduler_1_1_memory_manager.html#a19c3cb63764dc1307eadaed43360fcdf">createPoolMemoryStore</a> (size_t chunk_size, size_t initial_capacity, bool thread_safety_required=false)</td></tr>
<tr class="memdesc:a19c3cb63764dc1307eadaed43360fcdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates pool memory store.  <a href="#a19c3cb63764dc1307eadaed43360fcdf">More...</a><br/></td></tr>
<tr class="separator:a19c3cb63764dc1307eadaed43360fcdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae026a55dd6c4b97e2a4b2c5d0047df3d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scheduler_1_1_memory_manager.html#ae026a55dd6c4b97e2a4b2c5d0047df3d">destroyMemoryStore</a> (<a class="el" href="class_scheduler_1_1_malloc_memory_store.html">MallocMemoryStore</a> *memory_store)</td></tr>
<tr class="memdesc:ae026a55dd6c4b97e2a4b2c5d0047df3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method does nothing and is provided for code compatibility.  <a href="#ae026a55dd6c4b97e2a4b2c5d0047df3d">More...</a><br/></td></tr>
<tr class="separator:ae026a55dd6c4b97e2a4b2c5d0047df3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8195957eec7e0ee29de4e92358cdd763"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scheduler_1_1_memory_manager.html#a8195957eec7e0ee29de4e92358cdd763">destroyMemoryStore</a> (<a class="el" href="class_scheduler_1_1_pool_memory_store.html">PoolMemoryStore</a> *memory_store)</td></tr>
<tr class="memdesc:a8195957eec7e0ee29de4e92358cdd763"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the pool memory store freeing it's allocated memory.  <a href="#a8195957eec7e0ee29de4e92358cdd763">More...</a><br/></td></tr>
<tr class="separator:a8195957eec7e0ee29de4e92358cdd763"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class manages memory allocations inside the engine. </p>
<p>This class provides 2 memory allocation strategies: direct malloc call and pool allocator. To use the provided strategy, the user has to create the corresponding memory store (either <a class="el" href="class_scheduler_1_1_malloc_memory_store.html" title="This class represents the memory store allocating memory by calling std::malloc() and std::free() ...">MallocMemoryStore</a> or <a class="el" href="class_scheduler_1_1_pool_memory_store.html" title="This class represents the memory store allocating memory by returning fixed-sized blocks stored in th...">PoolMemoryStore</a>) and then request memory allocations over the returned <a class="el" href="class_scheduler_1_1_memory_store.html" title="This class represents the abstract memory store interface. ">MemoryStore</a> instance </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab6aaa917526728671d2522a1716ec646"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_scheduler_1_1_malloc_memory_store.html">MallocMemoryStore</a> * Scheduler::MemoryManager::createMallocMemoryStore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates malloc memory store. </p>
<p>Requesting memory from resulting memory store implies syscall to malloc(). Freeing memory implies syscall to free(). Since the underlying memory store is completely stateless, the single shared instance pointer is always returned by this method</p>
<dl class="section return"><dt>Returns</dt><dd>Shared instance of <a class="el" href="class_scheduler_1_1_malloc_memory_store.html" title="This class represents the memory store allocating memory by calling std::malloc() and std::free() ...">MallocMemoryStore</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a19c3cb63764dc1307eadaed43360fcdf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_scheduler_1_1_pool_memory_store.html">PoolMemoryStore</a> * Scheduler::MemoryManager::createPoolMemoryStore </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>chunk_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>initial_capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>thread_safety_required</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates pool memory store. </p>
<p>{ Resulting memory store uses the pre-allocated memory pool of fixed-sized chunks. When new memory allocation is requested, a pointer to the next free chunk is returned and the chunk is removed from the pool. When the memory is released, the chunk is returned to the pool and becomes available for the next memory allocations. The pool size starts from the passed initial capacity and automatically grows by allocating new memory areas if there are no more free chunks left.</p>
<p>The sizeof() for the objects constructed in the returned memory must be less than or equal to the chunk size.</p>
<p>By default the returned memory store isn't thread-safe but the thread-safety can be turned on. Generally the thread-safe version is slower since it uses the blocking synchnorization primitives, so, if it's possible, the concurrent calls to the single pool memory store should be avoided and the thread-unsafe version should be used.</p>
<p>The calls to this method are thread-safe.</p>
<p>Some predefined size constants are declared for convenience in the <a class="el" href="namespace_scheduler_1_1_pool.html" title="This namespace contains some predefined object sizes to be used with pool memory allocators. ">Pool</a> namespace. }</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chunk_size</td><td>The size in bytes of a single fixed-sized memory chunk </td></tr>
    <tr><td class="paramname">initial_capacity</td><td>The count of fixed-sized chunks of memory to be pre-allocated on memory store creation </td></tr>
    <tr><td class="paramname">thread_safety_required</td><td>If true, the blocking synchronization primitives are used to make the allocations thread-safe</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New instance of <a class="el" href="class_scheduler_1_1_pool_memory_store.html" title="This class represents the memory store allocating memory by returning fixed-sized blocks stored in th...">PoolMemoryStore</a> </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_scheduler_1_1_memory_manager_a19c3cb63764dc1307eadaed43360fcdf_cgraph.png" border="0" usemap="#class_scheduler_1_1_memory_manager_a19c3cb63764dc1307eadaed43360fcdf_cgraph" alt=""/></div>
<map name="class_scheduler_1_1_memory_manager_a19c3cb63764dc1307eadaed43360fcdf_cgraph" id="class_scheduler_1_1_memory_manager_a19c3cb63764dc1307eadaed43360fcdf_cgraph">
<area shape="rect" id="node2" href="class_scheduler_1_1_malloc_memory_store.html#a624abbbd6be3121a7f603acc6d214fb9" title="Allocates memory by calling std::malloc() " alt="" coords="241,5,445,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae026a55dd6c4b97e2a4b2c5d0047df3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Scheduler::MemoryManager::destroyMemoryStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_scheduler_1_1_malloc_memory_store.html">MallocMemoryStore</a> *&#160;</td>
          <td class="paramname"><em>memory_store</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method does nothing and is provided for code compatibility. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory_store</td><td>Memory store to be destroyed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8195957eec7e0ee29de4e92358cdd763"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Scheduler::MemoryManager::destroyMemoryStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_scheduler_1_1_pool_memory_store.html">PoolMemoryStore</a> *&#160;</td>
          <td class="paramname"><em>memory_store</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroys the pool memory store freeing it's allocated memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory_store</td><td>Memory store to be destroyed </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_scheduler_1_1_memory_manager_a8195957eec7e0ee29de4e92358cdd763_cgraph.png" border="0" usemap="#class_scheduler_1_1_memory_manager_a8195957eec7e0ee29de4e92358cdd763_cgraph" alt=""/></div>
<map name="class_scheduler_1_1_memory_manager_a8195957eec7e0ee29de4e92358cdd763_cgraph" id="class_scheduler_1_1_memory_manager_a8195957eec7e0ee29de4e92358cdd763_cgraph">
<area shape="rect" id="node2" href="class_scheduler_1_1_pool_memory_store.html#ac04fb1a2451075812d4bbef8cdfeb9ae" title="Scheduler::PoolMemoryStore\l::~PoolMemoryStore" alt="" coords="247,5,439,46"/><area shape="rect" id="node3" href="class_scheduler_1_1_malloc_memory_store.html#a7d2677e3d7270f125bb5310a21abd6af" title="Releases memory by calling std::free() " alt="" coords="241,70,445,111"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Engine/MemoryManager/<a class="el" href="_memory_manager_8h_source.html">MemoryManager.h</a></li>
<li>Engine/MemoryManager/<a class="el" href="_memory_manager_8cpp.html">MemoryManager.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 19 2018 16:04:22 for Scheduler Engine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
